# 英語学習チャットシステム 画面設計書

## 1. 概要

本ドキュメントは、英語学習チャットシステムの画面設計について詳細に定義します。ユーザーが直感的に操作できるシンプルで分かりやすいデザインを採用し、PC・タブレット・スマートフォンなど様々なデバイスで最適に表示されるレスポンシブデザインを実現します。

## 2. デザインコンセプト

### 2.1. デザインテーマ

- **シンプル & クリーン**: 学習に集中できる余計な装飾を排除したデザイン
- **直感的操作**: ユーザーが迷わず操作できる UI/UX
- **アクセシビリティ**: 視認性とコントラストを重視した配色
- **モダンチャット UI**: 一般的なメッセージアプリと同様の親しみやすいインターフェース

### 2.2. カラーパレット

```
プライマリカラー: #2563EB (青)
セカンダリカラー: #10B981 (緑)
アクセントカラー: #F59E0B (オレンジ)
背景色: #F8FAFC (ライトグレー)
テキストカラー: #1F2937 (ダークグレー)
ボーダーカラー: #E5E7EB (ライトグレー)
```

### 2.3. タイポグラフィ

- **フォントファミリー**: Inter, -apple-system, BlinkMacSystemFont, sans-serif
- **見出し**: 24px - 32px (太字)
- **本文**: 16px (通常)
- **キャプション**: 14px (軽量)

## 3. 画面構成一覧

| 画面名               | URL          | 概要                      |
| -------------------- | ------------ | ------------------------- |
| ログイン画面         | `/login`     | ユーザー認証画面          |
| 新規登録画面         | `/signup`    | 新規ユーザー登録画面      |
| チャット画面         | `/`          | メイン画面（AI との対話） |
| ブックマーク一覧画面 | `/bookmarks` | 保存した英語表現の一覧    |

## 4. 画面詳細設計

### 4.1. ログイン画面

#### 4.1.1. レイアウト構成

```
┌─────────────────────────────────────┐
│              ヘッダー               │
│    [English Chat Learning]         │
├─────────────────────────────────────┤
│                                     │
│            ログインフォーム         │
│    ┌─────────────────────────┐     │
│    │      メールアドレス     │     │
│    └─────────────────────────┘     │
│    ┌─────────────────────────┐     │
│    │       パスワード        │     │
│    └─────────────────────────┘     │
│                                     │
│    ┌─────────────────────────┐     │
│    │      [ログイン]         │     │
│    └─────────────────────────┘     │
│                                     │
│    ┌─────────────────────────┐     │
│    │    [新規アカウント作成]  │     │
│    └─────────────────────────┘     │
│                                     │
└─────────────────────────────────────┘
```

#### 4.1.2. 要素詳細

**ヘッダー**

- アプリケーション名: "English Chat Learning"
- フォントサイズ: 28px
- 色: プライマリカラー (#2563EB)

**ログインフォーム**

- 中央配置、最大幅: 400px
- 入力フィールド:
  - メールアドレス (type="email", required)
  - パスワード (type="password", required)
- ボタン:
  - ログインボタン: プライマリカラー背景
  - 新規登録ボタン: セカンダリカラー背景

### 4.2. 新規登録画面

#### 4.2.1. レイアウト構成

```
┌─────────────────────────────────────┐
│              ヘッダー               │
│    [English Chat Learning]         │
├─────────────────────────────────────┤
│                                     │
│           新規登録フォーム          │
│    ┌─────────────────────────┐     │
│    │      メールアドレス     │     │
│    └─────────────────────────┘     │
│    ┌─────────────────────────┐     │
│    │       パスワード        │     │
│    └─────────────────────────┘     │
│    ┌─────────────────────────┐     │
│    │    パスワード確認       │     │
│    └─────────────────────────┘     │
│    ┌─────────────────────────┐     │
│    │       ユーザー名        │     │
│    └─────────────────────────┘     │
│                                     │
│    ┌─────────────────────────┐     │
│    │      [アカウント作成]    │     │
│    └─────────────────────────┘     │
│                                     │
│    ┌─────────────────────────┐     │
│    │  [既にアカウントをお持ちの方] │     │
│    └─────────────────────────┘     │
│                                     │
└─────────────────────────────────────┘
```

#### 4.2.2. 要素詳細

**ヘッダー**

- アプリケーション名: "English Chat Learning"
- フォントサイズ: 28px
- 色: プライマリカラー (#2563EB)
- ログイン画面と同一デザイン

**新規登録フォーム**

- 中央配置、最大幅: 400px
- 入力フィールド:
  - メールアドレス (type="email", required)
    - プレースホルダー: "example@email.com"
    - バリデーション: 有効なメールアドレス形式
  - パスワード (type="password", required)
    - プレースホルダー: "8 文字以上の英数字"
    - 最小文字数: 8 文字
    - パスワード強度インジケーター表示
  - パスワード確認 (type="password", required)
    - プレースホルダー: "上記と同じパスワードを入力"
    - パスワード一致確認バリデーション
  - ユーザー名 (type="text", required)
    - プレースホルダー: "表示名（50 文字以内）"
    - 最大文字数: 50 文字
    - 英数字・ひらがな・カタカナ・漢字対応

**フォームバリデーション**

_リアルタイムバリデーション_

- メールアドレス: 形式チェック、重複チェック
- パスワード: 文字数・強度チェック
- パスワード確認: 一致確認
- ユーザー名: 文字数・使用可能文字チェック

_パスワード強度インジケーター_

- 弱い: 赤色（8 文字未満または数字のみ）
- 普通: オレンジ色（8 文字以上、英数字混在）
- 強い: 緑色（8 文字以上、英数字・記号混在）

**ボタン**

- アカウント作成ボタン:
  - 背景色: プライマリカラー (#2563EB)
  - 文字色: 白
  - 全フィールド入力完了まで無効化
  - ローディング状態表示機能
- ログインページへのリンク:
  - 背景色: セカンダリカラー (#10B981)
  - 文字色: 白
  - テキスト: "既にアカウントをお持ちの方"

**エラーメッセージ表示**

- 各入力フィールド下に表示
- 文字色: #EF4444（赤）
- フォントサイズ: 14px
- アイコン: ⚠️ エラーアイコン

**成功メッセージ**

- 登録完了時にトーストメッセージ表示
- 背景色: #10B981（緑）
- 文字色: 白
- テキスト: "アカウントが作成されました。ログインページに移動します。"

#### 4.2.3. レスポンシブ対応

**スマートフォン (< 768px)**

- フォーム幅: 90%
- パディング: 16px
- フォントサイズ: 14px
- ボタン高さ: 44px

**タブレット (768px - 1024px)**

- フォーム幅: 80%
- パディング: 20px

**デスクトップ (> 1024px)**

- フォーム幅: 400px（固定）
- 中央配置
- パディング: 24px

### 4.3. チャット画面（メイン画面）

#### 4.3.1. レイアウト構成

```
┌─────────────────────────────────────┐
│              ヘッダー               │
│ [≡] English Chat    [📚 Bookmarks] │
├─────────────────────────────────────┤
│                                     │
│            チャットエリア           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ AI: Welcome! How can I help │   │
│  │     you learn English?      │   │
│  └─────────────────────────────┘   │
│                                     │
│                     ┌─────────────┐ │
│                     │ User: Hello │ │
│                     └─────────────┘ │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ "Hello there!"              │   │
│  │                    [🔊] [⭐] │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │ "Hi! How are you?"          │   │
│  │                    [🔊] [⭐] │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │ "Good to see you!"          │   │
│  │                    [🔊] [⭐] │   │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│            入力エリア               │
│ ┌─────────────────────┐ ┌─────────┐ │
│ │  メッセージを入力... │ │ [送信]  │ │
│ └─────────────────────┘ └─────────┘ │
└─────────────────────────────────────┘
```

#### 4.3.2. 要素詳細

**ヘッダー**

- 左側: ハンバーガーメニューアイコン
- 中央: アプリケーション名
- 右側: ブックマーク一覧へのリンク
- 高さ: 60px
- 背景色: 白
- ボーダー: 下部に薄いグレーライン

**チャットエリア**

- スクロール可能な縦長のエリア
- 背景色: #F8FAFC
- パディング: 16px

**メッセージ吹き出し**

_AI メッセージ（左寄せ）_

- 背景色: 白
- ボーダー: 1px solid #E5E7EB
- 角丸: 12px
- パディング: 12px 16px
- マージン: 8px 0
- 最大幅: 80%
- シャドウ: 軽微な影

_ユーザーメッセージ（右寄せ）_

- 背景色: #2563EB (プライマリカラー)
- 文字色: 白
- 角丸: 12px
- パディング: 12px 16px
- マージン: 8px 0
- 最大幅: 80%

_英語表現吹き出し（左寄せ）_

- 背景色: #F0F9FF (薄い青)
- ボーダー: 1px solid #BAE6FD
- 角丸: 12px
- パディング: 12px 16px
- マージン: 4px 0
- 最大幅: 80%
- 右下に音声・ブックマークアイコン配置

**アクションアイコン**

- 音声アイコン (🔊):
  - サイズ: 24px × 24px
  - 色: #6B7280 (通常時), #2563EB (再生中)
  - ホバー時: 色が濃くなる
- ブックマークアイコン (⭐):
  - サイズ: 24px × 24px
  - 色: #6B7280 (未登録), #F59E0B (登録済み)
  - ホバー時: 色が濃くなる

**入力エリア**

- 高さ: 80px
- 背景色: 白
- ボーダー: 上部に薄いグレーライン
- パディング: 16px

_入力フィールド_

- フレックス: 1 (伸縮)
- 高さ: 48px
- ボーダー: 1px solid #D1D5DB
- 角丸: 24px
- パディング: 12px 20px
- プレースホルダー: "学びたい英語表現を入力してください..."

_送信ボタン_

- 幅: 80px
- 高さ: 48px
- 背景色: #2563EB
- 文字色: 白
- 角丸: 24px
- マージン: 0 0 0 12px

#### 4.3.3. レスポンシブ対応

**スマートフォン (< 768px)**

- ヘッダー高さ: 56px
- 入力エリア高さ: 72px
- 吹き出し最大幅: 90%
- フォントサイズ: 14px
- パディング: 12px

**タブレット (768px - 1024px)**

- 吹き出し最大幅: 85%
- パディング: 20px

**デスクトップ (> 1024px)**

- 最大幅: 800px (中央配置)
- パディング: 24px

### 4.4. ブックマーク一覧画面

#### 4.4.1. レイアウト構成

```
┌─────────────────────────────────────┐
│              ヘッダー               │
│ [←] Bookmarks              [🏠 Home] │
├─────────────────────────────────────┤
│                                     │
│          ブックマーク一覧           │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ "Hello there!"                  │ │
│ │                      [🔊] [🗑️] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ "How are you doing today?"      │ │
│ │                      [🔊] [🗑️] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ "Nice to meet you!"             │ │
│ │                      [🔊] [🗑️] │ │
│ └─────────────────────────────────┘ │
│                                     │
│              (空の状態)             │
│    ┌─────────────────────────┐     │
│    │     📚 No bookmarks     │     │
│    │        yet!             │     │
│    │                         │     │
│    │  Start learning and     │     │
│    │   save your favorite    │     │
│    │     expressions!        │     │
│    └─────────────────────────┘     │
│                                     │
└─────────────────────────────────────┘
```

#### 4.4.2. 要素詳細

**ヘッダー**

- 左側: 戻るボタン (←)
- 中央: "Bookmarks" タイトル
- 右側: ホーム画面へのリンク (🏠)
- 高さ: 60px
- 背景色: 白

**ブックマークリスト**

- 背景色: #F8FAFC
- パディング: 16px

**ブックマークアイテム**

- 背景色: 白
- ボーダー: 1px solid #E5E7EB
- 角丸: 8px
- パディング: 16px
- マージン: 8px 0
- シャドウ: 軽微な影

_英語表現テキスト_

- フォントサイズ: 16px
- 文字色: #1F2937
- 行間: 1.5

_アクションボタン_

- 音声アイコン (🔊): チャット画面と同様
- 削除アイコン (🗑️):
  - サイズ: 24px × 24px
  - 色: #EF4444 (赤)
  - ホバー時: 色が濃くなる

**空の状態**

- 中央配置
- アイコン: 📚 (48px)
- メインテキスト: "No bookmarks yet!"
- サブテキスト: "Start learning and save your favorite expressions!"
- 文字色: #6B7280

#### 4.4.3. 削除確認モーダル

```
┌─────────────────────────────────────┐
│              背景オーバーレイ       │
│          (半透明ダークグレー)       │
│                                     │
│    ┌─────────────────────────┐     │
│    │        確認ダイアログ   │     │
│    │                         │     │
│    │  このブックマークを     │     │
│    │    削除しますか？       │     │
│    │                         │     │
│    │ "Hello there!"          │     │
│    │                         │     │
│    │ ┌─────────┐ ┌─────────┐ │     │
│    │ │ キャンセル │ │   削除   │ │     │
│    │ └─────────┘ └─────────┘ │     │
│    └─────────────────────────┘     │
│                                     │
└─────────────────────────────────────┘
```

**モーダル仕様**

- 背景オーバーレイ: rgba(0, 0, 0, 0.5)
- ダイアログ幅: 320px (モバイル: 90%)
- 背景色: 白
- 角丸: 12px
- パディング: 24px
- 中央配置

_タイトル_

- フォントサイズ: 18px
- 文字色: #1F2937
- 太字

_対象テキスト表示_

- 背景色: #F3F4F6
- パディング: 8px 12px
- 角丸: 6px
- フォントスタイル: italic

_ボタン_

- キャンセルボタン: 背景色 #F3F4F6, 文字色 #6B7280
- 削除ボタン: 背景色 #EF4444, 文字色 白
- サイズ: 高さ 40px, 幅 100px
- 角丸: 8px

## 5. インタラクション仕様

### 5.1. アニメーション

**メッセージ表示**

- 新しいメッセージは下からフェードインで表示
- 持続時間: 300ms
- イージング: ease-out

**ボタンホバー**

- ホバー時に軽微なスケールアップ (1.05 倍)
- 持続時間: 200ms

**モーダル表示**

- 背景オーバーレイ: フェードイン (200ms)
- ダイアログ: スケールアップ + フェードイン (300ms)

### 5.2. フィードバック

**音声再生中**

- 音声アイコンの色が変化
- 軽微な回転アニメーション

**ブックマーク登録**

- アイコンの色が即座に変化
- 軽微なバウンスアニメーション

**送信ボタン**

- クリック時に一時的に無効化
- ローディングスピナー表示

### 5.3. エラーハンドリング

**ネットワークエラー**

- トーストメッセージで通知
- 再試行ボタンの表示

**音声再生エラー**

- アイコンを一時的に赤色表示
- "音声再生に失敗しました" メッセージ

**認証エラー**

- ログイン画面へリダイレクト
- エラーメッセージの表示

## 6. アクセシビリティ

### 6.1. キーボード操作

- Tab キーでの順次フォーカス移動
- Enter キーでのボタン実行
- Escape キーでのモーダル閉じる

### 6.2. スクリーンリーダー対応

- 適切な ARIA ラベルの設定
- ランドマークロールの定義
- 動的コンテンツの読み上げ対応

### 6.3. 色覚対応

- 色のみに依存しない情報伝達
- 十分なコントラスト比の確保 (4.5:1 以上)

## 7. パフォーマンス考慮事項

### 7.1. 画像最適化

- アイコンは SVG 形式を使用
- 適切なサイズでの配信

### 7.2. レンダリング最適化

- 仮想スクロールの実装検討 (長いチャット履歴)
- 遅延ローディングの適用

### 7.3. ネットワーク最適化

- 音声データのキャッシュ
- API レスポンスの最適化

## 8. 技術実装仕様

### 8.1. CSS フレームワーク

- **Tailwind CSS**: ユーティリティファーストによる効率的なスタイリング
- **shadcn/ui**: 再利用可能なコンポーネントライブラリ

### 8.2. レスポンシブ実装

```css
/* ブレイクポイント */
sm: 640px   /* スマートフォン */
md: 768px   /* タブレット */
lg: 1024px  /* デスクトップ */
xl: 1280px  /* 大画面デスクトップ */
```

### 8.3. コンポーネント構成

```
components/
├── ui/
│   ├── Button.tsx
│   ├── Input.tsx
│   ├── Modal.tsx
│   └── Toast.tsx
├── chat/
│   ├── ChatMessage.tsx
│   ├── EnglishExpression.tsx
│   ├── MessageInput.tsx
│   └── VoicePlayer.tsx
├── bookmark/
│   ├── BookmarkList.tsx
│   ├── BookmarkItem.tsx
│   └── DeleteConfirmModal.tsx
└── layout/
    ├── Header.tsx
    ├── Navigation.tsx
    └── Layout.tsx
```

## 9. 今後の拡張予定

### 9.1. 追加予定機能

- ダークモード対応
- 多言語対応 (英語 UI)
- 学習進捗の可視化
- カテゴリ別ブックマーク分類

### 9.2. UI/UX 改善

- スワイプジェスチャー対応
- 音声認識機能
- オフライン対応
- プッシュ通知

---

この画面設計書は、要件定義書に基づいて作成されており、ユーザーが直感的に操作できるシンプルで使いやすいインターフェースの実現を目指しています。実装時は、この設計書を参考に詳細な調整を行ってください。
